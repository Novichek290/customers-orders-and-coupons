# Описание проекта
## Что будет сделано:
Я разработаю консольное приложение для управления клиентами, их
заказами и купонами. Приложение будет позволять:

### <1> Работа с клиентами <1>
◦ Добавление клиента вместе с его профилем, начальными заказами и
привязкой купонов.
◦ Удаление клиента (при этом все связанные сущности, такие как профиль,
заказы, будут корректно удаляться с применением каскада).

### <2> Методы для работы с отдельными сущностями <2>

### <3> Добавление заказа <3>
◦ Отдельный метод для добавления нового заказа
существующему клиенту.

### <4> Изменение профиля <4>
◦ Отдельный метод для изменения данных профиля
клиента.

### <5> Редактирование купонов <5>
◦ Метод для изменения информации по купонам
◦ (например:обновление кода или процента скидки).

### <6> Поиск заказов <6>
◦ Функция поиска заказов по заданным фильтрам с использованием
кастомных запросов (`JPQL` и/или нативного `SQL`).

### <7> Решение проблемы N+1 <7>
◦ Реализовать выборку данных с оптимизацией (например, через `fetch join`),
чтобы устранить проблему N+1 запросов.

--------------------------------------------------------------------------
## Необходимые навыки для реализации
### Основы Hibernate
Конфигурация, настройка сущностей, жизненный цикл
объектов, работа с `Session`.
### Маппинг связей 
Создание и настройка связей один-к-одному, один-ко-многим, многие-ко-многим. Использование аннотаций `@OneToOne`, `@OneToMany`,
`@ManyToOne` и `@ManyToMany`, а также `@JoinTable` для реализации
вспомогательной таблицы.
### Работа с PostgreSQL
Настройка подключения, генерация схемы,
использование каскадных операций при сохранении/удалении.
### Кастомные запросы
Реализация `JPQL` и/или `SQL` запросов для фильтрации и
сложных выборок.
### Создание консольного приложения 
Построение меню, ввод данных,
делегирование работы Hibernate.
### Оптимизация запросов
Знание проблемы N+1 и методов её устранения
(например, через `fetch join`).

---------------------------------------------------------------------------
## Детальное описание задания
### Структура проекта и основные сущности
__Проект будет состоять из пяти таблиц, 
отражающих следующие сущности и связи:__
#### Client
+ Поля: `id (PK)`, `name` , `email` , `registrationDate`
+ Связи:
+ `One-to-one` c `Profile`
+ `One-to-many` c `Order`
+ `Many-to-many` c `Coupon` (через таблицу `CLIENT_COUPONS`)
#### Profile
+ Поля: `id (PK)`, `address` , `phone`
+ Связи:
+ `One-to-one` с `Client`
#### Order
+ Поля: `id (PK)`, `orderDate` , `totalAmount` , `status`
+ Связи:
+ `Many-to-one` с `Client`
#### Coupon
+ Поля: `id (PK)`, `code` , `discount`
+ Связи:
+ `Many-to-many` с `Client`
#### CLIENT_COUPONS (вспомогательная таблица)
+ Поля: `client_id` , `coupon_id`
+ Служит для организации связи многие-ко-многим между `Client` и `Coupon`.

[Подробнее в файле hibernate Core](https://github.com/Novichek290/customers-orders-and-coupons/blob/master/%D0%97%D0%B0%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5%20Hibernate%20Core.pdf)
--------------------------------------------------------------------------
